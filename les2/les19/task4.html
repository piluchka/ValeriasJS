<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 4</title>
    <style>
      #selector {
        display: flex;
      }
      .main {
        width: 300px;
        height: 400px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border: 2px solid black;
        margin-right: 10px;
      }
      .mainSelected {
        border: 4px solid green;
      }
      .img {
        width: 250px;
        height: 250px;
      }
      .title {
        text-align: center;
        margin: 0;
      }
      .link {
        text-decoration: none;
        color: black;
        font-size: 17px;
      }
      .price {
        font-size: 30px;
        color: rgb(0, 0, 0);
        font-weight: 700;
      }
    </style>
  </head>
  <body>
    <p><a href="./lesson19.html">Назад</a></p>
    <div id="selector"></div>
    <script>
      class Cards {
        constructor({ imgLink, title, price, linkToProd }) {
          this.imgLink = imgLink
          this.title = title
          this.price = price
          this.linkToProd = linkToProd
        }
        toggleDiv() {
          const div = this

          div.classList.toggle("mainSelected")
        }

        render(containerSelector) {
          const containerDiv = document.createElement("div")
          containerDiv.className = "main"

          const imageDiv = document.createElement("div")
          imageDiv.className = "imageDiv"
          containerDiv.append(imageDiv)

          const img = document.createElement("img")
          img.setAttribute("src", this.imgLink)
          img.className = "img"
          imageDiv.append(img)

          const title = document.createElement("p")
          title.className = "title"
          containerDiv.append(title)

          const link = document.createElement("a")
          link.setAttribute("href", this.linkToProd)
          link.innerText = this.title
          link.className = "link"
          title.append(link)

          const price = document.createElement("p")
          price.className = "price"
          price.innerText = this.price
          containerDiv.append(price)

          containerDiv.onclick = this.toggleDiv.bind(containerDiv)

          if (containerSelector) {
            document.querySelector(containerSelector).append(containerDiv)
          } else {
            throw new Error("No selector")
          }
        }
      }
      let b = [
        {
          imgLink:
            "https://touch.com.ua/upload/resize_cache/webp/iblock/5tz/500_500_1/5tzbpfsgbl8fe0jv1qqhhmx2hs3r6r1f.webp",
          title: "Intel Celeron N4020 • 4ГБ / 256ГБ • Intel UHD 600",
          price: "9889 UAH",
          linkToProd:
            "https://touch.com.ua/ua/item/lenovo-v15-igl-15-6-82c3001nix/",
        },
        {
          imgLink:
            "https://touch.com.ua/upload/resize_cache/webp/iblock/a38/a38c7e65d8d075b7a395cc613612e490.webp",
          title: "Apple MacBook Air 13 M1 (2020)",
          price: "34429 UAH",
          linkToProd:
            "https://touch.com.ua/ua/item/apple-macbook-air-13-space-gray-late-2020-mgn63/",
        },
        {
          imgLink:
            "https://touch.com.ua/upload/resize_cache/webp/iblock/cca/500_500_1/ylx3aw2dbkg55tzjb7a057osfal1q31p.webp",
          title: "Ноутбук Xiaomi Mi RedmiBook 15 Gray (JYU4436ID)",
          price: "15989 UAH",
          linkToProd:
            "https://touch.com.ua/upload/resize_cache/webp/iblock/cca/500_500_1/ylx3aw2dbkg55tzjb7a057osfal1q31p.webp",
        },
        {
          imgLink:
            "https://touch.com.ua/upload/resize_cache/webp/iblock/4f5/500_500_1/4f5f9ddeaea47d159517bc4aee567f82.webp",
          title: "Xiaomi Mi RedmiBook 13 i7/16/512/W (JYU4301CN)",
          price: "26129 UAH",
          linkToProd:
            "https://touch.com.ua/ua/item/noutbuk-xiaomi-mi-redmibook-13-i7-16-512-w-jyu4301cn/",
        },
      ]
      for (const data of b) {
        new Cards(data).render("#selector")
      }
    </script>
  </body>
</html>
